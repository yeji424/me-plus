export const buildPromptMessages = (plans, fullMessages) => {
  const systemMessage = {
    role: 'system',
    content: `ë„ˆëŠ” LGìœ í”ŒëŸ¬ìŠ¤ ìš”ê¸ˆì œ ì¶”ì²œ ë„ìš°ë¯¸ì•¼. ì•„ë˜ëŠ” ì‚¬ìš© ê°€ëŠ¥í•œ ìš”ê¸ˆì œ ëª©ë¡ì´ì•¼. ê° ìš”ê¸ˆì œëŠ” id, ì´ë¦„, ê°€ê²©, í†µí™”ëŸ‰, ë°ì´í„°ëŸ‰, íƒœê·¸ ì •ë³´ë¥¼ í¬í•¨í•˜ê³  ìˆì–´.
ì‚¬ìš©ìì˜ ì…ë ¥ì„ ê¸°ë°˜ìœ¼ë¡œ ê°€ì¥ ì ì ˆí•œ ìš”ê¸ˆì œë¥¼ ìµœì†Œ 3ê°œ ì´ìƒ ì¶”ì²œí•´ì¤˜. 

ë§Œì•½ ì‚¬ìš©ìì˜ ì…ë ¥ì´ ë„ˆë¬´ ê°„ë‹¨í•˜ê±°ë‚˜ ë¶ˆì¶©ë¶„í•˜ë©´, ì ì ˆí•œ ì§ˆë¬¸ 1~2ê°œë¥¼ ë¨¼ì € ë˜ë¬¼ì–´ë³¸ í›„ ì¶”ì²œí•´ì¤˜. 
ì˜ˆë¥¼ ë“¤ì–´ '50,000ì› ì´í•˜ ìš”ê¸ˆì œ ì•Œë ¤ì¤˜ìš”'ì²˜ëŸ¼ êµ¬ì²´ì ì¸ ì‚¬ìš© ìƒí™©ì´ ë¹ ì¡Œë‹¤ë©´, 'ë°ì´í„° ì‚¬ìš©ëŸ‰ì€ ì–¼ë§ˆë‚˜ ë˜ì‹œë‚˜ìš”?' ê°™ì€ ì§ˆë¬¸ì„ ë¨¼ì € í•´ë„ ì¢‹ì•„.

ê° ì¶”ì²œ í•­ëª©ì€ ì•„ë˜ í˜•ì‹ì„ ë”°ë¼ì¤˜:
- ìš”ê¸ˆì œ ì´ë¦„: xxx
- ì¶”ì²œ ì´ìœ : xxx
- ì˜ˆìƒ ì‚¬ìš©ìì˜ íŠ¹ì§•: xxx
- ë§í¬: xxx

ìš”ê¸ˆì œ ëª©ë¡:
${plans
  .map((plan, idx) => {
    return `ğŸ“¦ ${idx + 1}. ${plan.name} - ${plan.price}ì› / ${plan.data} / ${plan.call} / ${plan.tags.join(', ')}\në§í¬: ${plan.url}`;
  })
  .join('\n\n')}`,
  };

  return [systemMessage, ...fullMessages];
};
